<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SRT Practice - Ace SSB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #0a192f;
        color: #ccd6f6;
      }
      .text-accent {
        color: #64ffda;
      }
      .bg-accent {
        background-color: #64ffda;
      }
      .glass-effect {
        background: rgba(23, 49, 85, 0.6);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
    </style>
  </head>
  <body class="antialiased">
    <!-- Header -->
    <header id="navbar" class="glass-effect sticky top-0 left-0 right-0 z-50">
      <div class="container mx-auto px-6 py-4">
        <div class="flex items-center justify-between">
          <a
            href="index.html"
            class="text-2xl font-bold text-white hover:text-accent"
            >Ace SSB</a
          >
          <nav class="hidden md:flex items-center space-x-8">
            <a href="index.html" class="text-gray-300 hover:text-accent"
              >Home</a
            >
            <a href="ppdt.html" class="text-gray-300 hover:text-accent"
              >PPDT / TAT</a
            >
            <a href="wat.html" class="text-gray-300 hover:text-accent">WAT</a>
            <a href="srt.html" class="text-accent font-bold">SRT</a>
          </nav>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12">
      <div id="set-selection" class="text-center">
        <h1 class="text-3xl md:text-4xl font-bold text-white">
          Situation Reaction Test (SRT)
        </h1>
        <p class="mt-2 text-gray-400">
          Select a set. You will have 30 minutes to respond to 60 situations.
        </p>
        <div
          id="set-buttons"
          class="mt-8 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 max-w-4xl mx-auto"
        ></div>
      </div>

      <div id="practice-area" class="hidden">
        <div class="flex justify-between items-center mb-6">
          <h2 id="practice-title" class="text-2xl font-bold text-white"></h2>
          <div
            id="timer"
            class="text-2xl font-bold text-accent glass-effect px-4 py-2 rounded-lg"
          >
            30:00
          </div>
        </div>
        <div id="srt-list" class="space-y-4"></div>
        <div class="text-center mt-8">
          <button
            id="end-test-btn"
            class="bg-red-500 text-white font-bold py-2 px-6 rounded-md hover:bg-opacity-80"
          >
            End Test & Return
          </button>
        </div>
      </div>

      <div id="end-screen" class="hidden text-center">
        <h1 class="text-3xl md:text-4xl font-bold text-white mb-4">
          Time's Up!
        </h1>
        <p class="text-gray-400 max-w-2xl mx-auto mb-8">
          You have completed the set. Review your responses and continue
          practicing to improve your speed and decision-making skills.
        </p>
        <button
          id="restart-btn"
          class="bg-accent text-slate-900 font-bold py-3 px-8 rounded-md hover:bg-opacity-80 transition-all text-lg"
        >
          Practice Another Set
        </button>
      </div>

      <!-- Purchase Callout -->
      <div class="mt-24 max-w-3xl mx-auto">
        <div
          class="glass-effect rounded-lg p-8 text-center border-t-4 border-accent"
        >
          <h3 class="text-2xl font-bold text-white mb-3">
            Get All 15 SRT Sets
          </h3>
          <p class="text-gray-400 mb-6">
            Download the complete collection of 900+ situations across 15 sets
            in a single PDF for your offline preparation.
          </p>
          <a
            href="https://pages.razorpay.com/Ananta"
            target="_blank"
            class="purchase-link bg-slate-700 text-white font-bold py-2 px-6 rounded-md hover:bg-accent hover:text-slate-900 transition-all"
            >Purchase the PDF</a
          >
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 mt-16 border-t border-slate-700">
      <div class="container mx-auto px-6 py-8 text-center">
        <p class="text-sm text-gray-500">
          &copy; 2014-2025 Ace SSB. All Rights Reserved.
        </p>
      </div>
    </footer>

    <!-- Confirmation Modal -->
    <div
      id="redirect-modal"
      class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[100] hidden"
    >
      <div class="glass-effect rounded-lg p-8 max-w-sm mx-auto text-center">
        <h3 class="text-xl font-bold text-white mb-4">Leaving Ace SSB</h3>
        <p class="text-gray-300 mb-6">
          You are being redirected to our secure payment partner's website to
          complete your purchase. Do you want to continue?
        </p>
        <div class="flex justify-center space-x-4">
          <button
            id="cancel-redirect-btn"
            class="bg-gray-600 text-white font-bold py-2 px-6 rounded-md hover:bg-gray-500 transition-all"
          >
            Cancel
          </button>
          <a
            id="confirm-redirect-btn"
            href="#"
            target="_blank"
            class="bg-accent text-slate-900 font-bold py-2 px-6 rounded-md hover:bg-opacity-80 transition-all"
            >Continue</a
          >
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // --- Data ---
        const srtBank = [
          "He was on his way to an important exam when he saw a person who had met with an accident and was bleeding heavily. He would...",
          "During a group task, his ideas were constantly being rejected by the group members. He would...",
          "He found a wallet full of money on a deserted road. He would...",
          "He noticed his friend cheating in an examination. He would...",
          "While traveling by train, he realized a co-passenger had stolen his luggage. He would...",
          "He was the captain of the college football team. Just before the final match, his star player got injured. He would...",
          "He was asked to organize a cultural event in his college with a very limited budget. He would...",
          "He was leading a trekking expedition and one of the members fell and fractured his leg in a remote area. He would...",
          "He overheard his colleagues gossiping and spreading false rumors about him. He would...",
          "His commanding officer gave him an order that he felt was morally wrong. He would...",
          "While on sentry duty, he sees suspicious movement near the border fence. He would...",
          "He is in a debate and his opponent is making personal attacks instead of arguing logically. He would...",
          "He is asked to perform a task which he has never done before. He would...",
          "His juniors are not following his instructions properly. He would...",
          "He finds out his close friend is involved in illegal activities. He would...",
          "During a flood relief operation, his boat overturns and his team is stranded. He would...",
          "He is running late for an important meeting and his vehicle breaks down. He would...",
          "He is given a difficult subordinate who is known to be lazy and disobedient. He would...",
          "He is outnumbered by enemies in a combat situation. He would...",
          "He is facing a financial crisis at home which is affecting his work. He would...",
          "His parents want him to get married, but he wants to focus on his career. He would...",
          "A fire breaks out in the building he is in. He would...",
          "He is the youngest member of a team and his seniors ignore his suggestions. He would...",
          "He is in a new city and has lost his way and his phone battery is dead. He would...",
          "He is told to work on a project with a person he dislikes. He would...",
          "He is offered a bribe to pass a contract. He would...",
        ];
        while (srtBank.length < 100) {
          srtBank.push(
            `This is a sample situation to expand the bank. Item ${
              srtBank.length + 1
            }. He would...`
          );
        }

        const NUM_SETS = 15;
        const SRTS_PER_SET = 60;
        let srtSets = [];

        function generateSets() {
          for (let i = 0; i < NUM_SETS; i++) {
            const shuffled = [...srtBank].sort(() => 0.5 - Math.random());
            srtSets.push(shuffled.slice(0, SRTS_PER_SET));
          }
        }

        // --- DOM Elements ---
        const setSelectionDiv = document.getElementById("set-selection");
        const practiceAreaDiv = document.getElementById("practice-area");
        const endScreen = document.getElementById("end-screen");
        const setButtonsContainer = document.getElementById("set-buttons");
        const practiceTitle = document.getElementById("practice-title");
        const timerDisplay = document.getElementById("timer");
        const srtListContainer = document.getElementById("srt-list");
        const endTestBtn = document.getElementById("end-test-btn");
        const restartBtn = document.getElementById("restart-btn");

        let timerInterval;

        // --- Functions ---
        function displaySets() {
          for (let i = 0; i < NUM_SETS; i++) {
            const button = document.createElement("button");
            button.className =
              "bg-slate-700 hover:bg-accent hover:text-slate-900 text-white font-bold py-3 px-4 rounded transition-all";
            button.textContent = `Set ${i + 1}`;
            button.onclick = () => startTest(i);
            setButtonsContainer.appendChild(button);
          }
        }

        function startTest(setIndex) {
          setSelectionDiv.classList.add("hidden");
          endScreen.classList.add("hidden");
          practiceAreaDiv.classList.remove("hidden");
          practiceTitle.textContent = `SRT - Set ${setIndex + 1}`;

          const currentSet = srtSets[setIndex];
          srtListContainer.innerHTML = "";
          currentSet.forEach((srt, index) => {
            const srtItem = document.createElement("div");
            srtItem.className = "glass-effect p-4 rounded-lg";
            srtItem.innerHTML = `
                        <p class="text-gray-300 mb-2"><span class="font-bold text-accent">${
                          index + 1
                        }.</span> ${srt}</p>
                        <textarea class="w-full bg-slate-800 border border-slate-600 rounded-md p-2 text-white focus:outline-none focus:ring-2 focus:ring-accent" rows="2" placeholder="Your reaction..."></textarea>
                    `;
            srtListContainer.appendChild(srtItem);
          });

          startTimer(30 * 60);
        }

        function startTimer(duration) {
          let timeLeft = duration;
          clearInterval(timerInterval);
          timerInterval = setInterval(() => {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${String(minutes).padStart(
              2,
              "0"
            )}:${String(seconds).padStart(2, "0")}`;

            if (timeLeft <= 0) {
              endTest(true);
            }
            timeLeft--;
          }, 1000);
        }

        function endTest(isTimeUp = false) {
          clearInterval(timerInterval);
          practiceAreaDiv.classList.add("hidden");
          endScreen.classList.remove("hidden");
          if (isTimeUp) {
            endScreen.querySelector("h1").textContent = "Time's Up!";
          } else {
            endScreen.querySelector("h1").textContent = "Set Complete!";
          }
        }

        // --- Event Listeners ---
        endTestBtn.addEventListener("click", () => endTest(false));
        restartBtn.addEventListener("click", () => {
          endScreen.classList.add("hidden");
          setSelectionDiv.classList.remove("hidden");
        });

        // --- Initialization ---
        generateSets();
        displaySets();

        // --- Redirect Confirmation Modal Script ---
        const redirectModal = document.getElementById("redirect-modal");
        const cancelRedirectBtn = document.getElementById(
          "cancel-redirect-btn"
        );
        const confirmRedirectBtn = document.getElementById(
          "confirm-redirect-btn"
        );
        const purchaseLinks = document.querySelectorAll(".purchase-link");

        if (
          redirectModal &&
          cancelRedirectBtn &&
          confirmRedirectBtn &&
          purchaseLinks
        ) {
          purchaseLinks.forEach((link) => {
            link.addEventListener("click", function (e) {
              e.preventDefault();
              const targetUrl = this.href;
              confirmRedirectBtn.href = targetUrl;
              redirectModal.classList.remove("hidden");
            });
          });

          cancelRedirectBtn.addEventListener("click", () => {
            redirectModal.classList.add("hidden");
          });

          redirectModal.addEventListener("click", function (event) {
            if (event.target === redirectModal) {
              redirectModal.classList.add("hidden");
            }
          });

          confirmRedirectBtn.addEventListener("click", () => {
            setTimeout(() => {
              redirectModal.classList.add("hidden");
            }, 100);
          });
        }
      });
    </script>
  </body>
</html>
