<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WAT Practice - Ace SSB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #0a192f;
        color: #ccd6f6;
      }
      .text-accent {
        color: #64ffda;
      }
      .bg-accent {
        background-color: #64ffda;
      }
      .glass-effect {
        background: rgba(23, 49, 85, 0.6);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      #word-display {
        text-shadow: 0 0 15px rgba(100, 255, 218, 0.8);
      }
    </style>
  </head>
  <body class="antialiased">
    <header class="glass-effect sticky top-0 left-0 right-0 z-50">
      <div
        class="container mx-auto px-6 py-4 flex items-center justify-between"
      >
        <a
          href="index.html"
          class="text-2xl font-bold text-white hover:text-accent"
          >Ace SSB</a
        >
        <nav class="hidden md:flex items-center space-x-8">
          <a href="index.html" class="text-gray-300 hover:text-accent">Home</a>
          <a href="ppdt.html" class="text-gray-300 hover:text-accent"
            >PPDT / TAT</a
          >
          <a href="wat.html" class="text-accent font-bold">WAT</a>
          <a href="srt.html" class="text-gray-300 hover:text-accent">SRT</a>
        </nav>
      </div>
    </header>

    <main class="container mx-auto px-6 py-12">
      <div id="setup-screen" class="text-center">
        <h1 class="text-3xl md:text-4xl font-bold text-white mb-4">
          Word Association Test (WAT)
        </h1>
        <p class="text-gray-400 max-w-2xl mx-auto mb-8">
          A word will be shown for 15 seconds. Write the first sentence that
          comes to your mind. There are 60 words in each set.
        </p>
        <div class="max-w-sm mx-auto">
          <label
            for="set-select"
            class="block mb-2 text-sm font-medium text-gray-300"
            >Select a Practice Set:</label
          >
          <select
            id="set-select"
            class="bg-slate-700 border border-slate-600 text-white text-sm rounded-lg focus:ring-accent focus:border-accent block w-full p-2.5"
          >
            <!-- Options will be generated by JS -->
          </select>
        </div>
        <button
          id="start-btn"
          class="mt-6 bg-accent text-slate-900 font-bold py-3 px-8 rounded-md hover:bg-opacity-80 transition-all text-lg"
        >
          Start Test
        </button>
      </div>

      <div id="test-screen" class="hidden text-center">
        <p id="word-counter" class="text-gray-400 mb-4"></p>
        <div class="h-48 flex items-center justify-center">
          <h2 id="word-display" class="text-7xl font-extrabold text-white"></h2>
        </div>
        <p
          id="timer-display"
          class="text-4xl font-mono font-bold text-accent mt-4"
        ></p>
      </div>

      <div id="end-screen" class="hidden text-center">
        <h1 class="text-3xl md:text-4xl font-bold text-white mb-4">
          Set Complete!
        </h1>
        <p class="text-gray-400 max-w-2xl mx-auto mb-8">
          Well done. To build speed and clarity of thought, practice with
          different sets.
        </p>
        <button
          id="restart-btn"
          class="bg-accent text-slate-900 font-bold py-3 px-8 rounded-md hover:bg-opacity-80 transition-all text-lg"
        >
          Practice Another Set
        </button>
      </div>

      <!-- Purchase Callout -->
      <div class="mt-24 max-w-3xl mx-auto">
        <div
          class="glass-effect rounded-lg p-8 text-center border-t-4 border-accent"
        >
          <h3 class="text-2xl font-bold text-white mb-3">
            Get All 15 WAT Sets
          </h3>
          <p class="text-gray-400 mb-6">
            Download the complete collection of 900 words across 15 sets in a
            single PDF for your offline preparation.
          </p>
          <a
            href="https://pages.razorpay.com/Ananta"
            target="_blank"
            class="purchase-link bg-slate-700 text-white font-bold py-2 px-6 rounded-md hover:bg-accent hover:text-slate-900 transition-all"
            >Purchase the PDF</a
          >
        </div>
      </div>
    </main>

    <footer class="bg-slate-900 mt-16 border-t border-slate-700">
      <div class="container mx-auto px-6 py-8 text-center">
        <p class="text-sm text-gray-500">
          &copy; 2014-2025 Ace SSB. All Rights Reserved.
        </p>
      </div>
    </footer>

    <!-- Confirmation Modal -->
    <div
      id="redirect-modal"
      class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[100] hidden"
    >
      <div class="glass-effect rounded-lg p-8 max-w-sm mx-auto text-center">
        <h3 class="text-xl font-bold text-white mb-4">Leaving Ace SSB</h3>
        <p class="text-gray-300 mb-6">
          You are being redirected to our secure payment partner's website to
          complete your purchase. Do you want to continue?
        </p>
        <div class="flex justify-center space-x-4">
          <button
            id="cancel-redirect-btn"
            class="bg-gray-600 text-white font-bold py-2 px-6 rounded-md hover:bg-gray-500 transition-all"
          >
            Cancel
          </button>
          <a
            id="confirm-redirect-btn"
            href="#"
            target="_blank"
            class="bg-accent text-slate-900 font-bold py-2 px-6 rounded-md hover:bg-opacity-80 transition-all"
            >Continue</a
          >
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // --- Data ---
        const wordBank = [
          "Mother",
          "Army",
          "Success",
          "Defeat",
          "Friend",
          "Enemy",
          "Duty",
          "Order",
          "Work",
          "Love",
          "Hate",
          "Money",
          "Honest",
          "Steal",
          "Team",
          "Alone",
          "Company",
          "Attack",
          "Defend",
          "Courage",
          "Fear",
          "Leader",
          "Follower",
          "Country",
          "Weapon",
          "Peace",
          "War",
          "Help",
          "Give",
          "Take",
          "Responsibility",
          "Blame",
          "System",
          "Discipline",
          "Effort",
          "Result",
          "Win",
          "Lose",
          "Sacrifice",
          "Gain",
          "Knowledge",
          "Ignorance",
          "Power",
          "Weakness",
          "Trust",
          "Doubt",
          "Future",
          "Past",
          "Present",
          "Decision",
          "Hesitation",
          "Quick",
          "Slow",
          "Brave",
          "Timid",
          "Group",
          "Individual",
          "Risk",
          "Safety",
          "Challenge",
          "Comfort",
          "Anxiety",
          "Calm",
          "Worry",
          "Carefree",
          "Atom",
          "Sport",
          "Knife",
          "Possible",
          "Difficult",
          "Shoot",
          "General",
          "Cooperate",
          "Compete",
          "Serious",
          "Humor",
          "Systematic",
          "Haphazard",
          "Experience",
          "Fresh",
          "Opinion",
          "Fact",
          "Unity",
          "Division",
          "Nervous",
          "Confident",
          "Zeal",
          "Tire",
          "Machine",
          "Nature",
          "Sympathy",
          "Apathy",
          "Command",
          "Request",
          "Mistake",
          "Lesson",
          "Book",
          "Gun",
          "Officer",
          "Soldier",
          "Home",
          "Family",
          "Failure",
          "Attempt",
        ];
        const NUM_SETS = 15;
        const WORDS_PER_SET = 60;
        let watSets = [];

        function generateSets() {
          for (let i = 0; i < NUM_SETS; i++) {
            const shuffled = [...wordBank].sort(() => 0.5 - Math.random());
            watSets.push(shuffled.slice(0, WORDS_PER_SET));
          }
        }

        // --- DOM Elements ---
        const setupScreen = document.getElementById("setup-screen");
        const testScreen = document.getElementById("test-screen");
        const endScreen = document.getElementById("end-screen");
        const setSelect = document.getElementById("set-select");
        const startBtn = document.getElementById("start-btn");
        const restartBtn = document.getElementById("restart-btn");
        const wordDisplay = document.getElementById("word-display");
        const timerDisplay = document.getElementById("timer-display");
        const wordCounter = document.getElementById("word-counter");

        let currentSet, currentWordIndex, timerInterval;

        // --- Functions ---
        function populateSetSelector() {
          for (let i = 0; i < NUM_SETS; i++) {
            const option = document.createElement("option");
            option.value = i;
            option.textContent = `Set ${i + 1}`;
            setSelect.appendChild(option);
          }
        }

        function startTest() {
          const setIndex = setSelect.value;
          currentSet = watSets[setIndex];
          currentWordIndex = 0;
          setupScreen.classList.add("hidden");
          endScreen.classList.add("hidden");
          testScreen.classList.remove("hidden");
          nextWord();
        }

        function nextWord() {
          if (currentWordIndex >= WORDS_PER_SET) {
            endTest();
            return;
          }

          wordDisplay.textContent = currentSet[currentWordIndex];
          wordCounter.textContent = `Word ${
            currentWordIndex + 1
          } / ${WORDS_PER_SET}`;

          let timeLeft = 15;
          timerDisplay.textContent = timeLeft;

          clearInterval(timerInterval);
          timerInterval = setInterval(() => {
            timeLeft--;
            timerDisplay.textContent = timeLeft;
            if (timeLeft <= 0) {
              clearInterval(timerInterval);
              currentWordIndex++;
              nextWord();
            }
          }, 1000);
        }

        function endTest() {
          clearInterval(timerInterval);
          testScreen.classList.add("hidden");
          endScreen.classList.remove("hidden");
        }

        function restartTest() {
          endScreen.classList.add("hidden");
          setupScreen.classList.remove("hidden");
        }

        // --- Event Listeners ---
        startBtn.addEventListener("click", startTest);
        restartBtn.addEventListener("click", restartTest);

        // --- Initialization ---
        generateSets();
        populateSetSelector();

        // --- Redirect Confirmation Modal Script ---
        const redirectModal = document.getElementById("redirect-modal");
        const cancelRedirectBtn = document.getElementById(
          "cancel-redirect-btn"
        );
        const confirmRedirectBtn = document.getElementById(
          "confirm-redirect-btn"
        );
        const purchaseLinks = document.querySelectorAll(".purchase-link");

        if (
          redirectModal &&
          cancelRedirectBtn &&
          confirmRedirectBtn &&
          purchaseLinks
        ) {
          purchaseLinks.forEach((link) => {
            link.addEventListener("click", function (e) {
              e.preventDefault();
              const targetUrl = this.href;
              confirmRedirectBtn.href = targetUrl;
              redirectModal.classList.remove("hidden");
            });
          });

          cancelRedirectBtn.addEventListener("click", () => {
            redirectModal.classList.add("hidden");
          });

          redirectModal.addEventListener("click", function (event) {
            if (event.target === redirectModal) {
              redirectModal.classList.add("hidden");
            }
          });

          confirmRedirectBtn.addEventListener("click", () => {
            setTimeout(() => {
              redirectModal.classList.add("hidden");
            }, 100);
          });
        }
      });
    </script>
  </body>
</html>
